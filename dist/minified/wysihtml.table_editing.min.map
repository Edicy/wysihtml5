{"version":3,"file":"wysihtml.table_editing.min.js","sources":["../wysihtml.table_editing.js"],"names":["factory","define","amd","exports","require","window","wysihtml","Base","extend","_instance","_static","prototype","_prototyping","proto","this","call","base","constructor","klass","_constructing","apply","arguments","ancestor","forEach","implement","toString","valueOf","type","init","source","value","length","test","method","previous","returnValue","toSource","hidden","i","key","Object","version","object","block","context","undefined","String","commands","addTableCells","exec","composer","command","tableSelection","start","end","tableSelect","dom","table","orderSelectionEnds","addCells","setTimeout","select","state","createTable","col","row","html","cols","rows","parseInt","tableStyle","deleteTableCells","selCell","idx","indexOf","removeCells","findCell","mergeTableCells","unmergeCell","mergeCellsBetween","getAttribute","queryInList","list","query","q","ret","e","len","querySelectorAll","unshift","removeElement","el","parentNode","removeChild","insertAfter","referenceNode","newNode","insertBefore","nextSibling","nextNode","node","tag","element","nodeType","tagName","toLowerCase","api","MapCell","cell","isColspan","isRowspan","firstCol","lastCol","firstRow","lastRow","isReal","spanCollection","modified","TableModifyerByCell","getParentElement","addSpannedCellToMap","map","r","c","cspan","rspan","spanCollect","rmax","cmax","rr","cc","push","setCellAsModified","s","smax","setTableMap","ridx","cells","cidx","tableRows","getTableRows","getRowCells","inlineTables","inlineCells","allCells","tableCells","lang","array","without","inlineRows","allRows","getMapIndex","r_length","c_length","r_idx","c_idx","getElementAtIndex","getMapElsTo","to_cell","els","idx_start","idx_end","temp_idx","temp_cidx","maxr","maxc","secondcell","createCells","nr","attrs","doc","ownerDocument","frag","createDocumentFragment","createElement","attr","hasOwnProperty","setAttribute","appendChild","document","createTextNode","correctColIndexForUnreals","corrIdx","getLastNewCellOnRow","rowLimit","removeEmptyTable","splitRowToCells","colspan","cType","newCells","removeAttribute","getRealRowEl","force","injectRowAt","new_cells","n_cidx","firstChild","canMerge","to","decreaseCellSpan","span","removeSurplusLines","allRowspan","childNodes","textContent","innerText","fillMissingCells","r_max","c_max","prevcell","parent","rectify","unmerge","thisCell","rowspan","merge","innerHTML","console","log","collapseCellToNextRow","cellIdx","newRowIdx","newIdx","lastCell","removeRowCell","getRowElementsByCell","modRow","getColumnElementsByCell","removeRow","oldRow","removeColCell","removeColumn","remove","what","addRow","where","newRow","addRowCell","cr","colSpanAttr","add","addColumn","addColCell","doAdd","handleCellAddWithRowspan","modCell","temp_r_cells","nrow","addRowsNr","crow","getCellsBetween","cell1","cell2","c1","findRowByCell","findColumnByCell","oldObserverFunction","views","Composer","observe","extendedObserverFunction","config","handleTables","initTableHandling","hideHandlers","win","removeEventListener","execCommand","bind","iframeInitiator","actions","removeListeners","sandbox","getIframe","browser","supportsCommand","addListeners","addEventListener","quirks","tableCellsSelection","editable","editor","handleMouseDown","event","target","handleSelectionMousedown","removeCellSelections","addClass","selectionClass","handleMouseMove","handleMouseUp","fire","selectedCells","removeClass","addSelections","oldEnd","curTable","selection","deselect","bindSideclick","sideClickHandler","selectCells","Editor","defaults"],"mappings":"CAAE,SAAUA,GACR,YACsB,mBAAXC,SAAyBA,OAAOC,IACvCD,OAAO,0BAA2B,YAAaD,GAE/CA,EADwB,gBAAXG,SACLC,QAAQ,YAERC,OAAOC,WAErB,SAASA,GAQX,GAAIC,GAAO,YAIXA,GAAKC,OAAS,SAASC,EAAWC,GACjC,GAAIF,GAASD,EAAKI,UAAUH,MAG5BD,GAAKK,cAAe,CACpB,IAAIC,GAAQ,GAAIC,KAChBN,GAAOO,KAAKF,EAAOJ,GAClBI,EAAMG,KAAO,mBAGPT,GAAKK,YAIZ,IAAIK,GAAcJ,EAAMI,YACpBC,EAAQL,EAAMI,YAAc,WAC/B,IAAKV,EAAKK,aACT,GAAIE,KAAKK,eAAiBL,KAAKG,aAAeC,EAC7CJ,KAAKK,eAAgB,EACrBF,EAAYG,MAAMN,KAAMO,iBACjBP,MAAKK,kBACN,IAAoB,MAAhBE,UAAU,GACpB,OAAQA,UAAU,GAAGb,QAAUA,GAAQO,KAAKM,UAAU,GAAIR,GAmB7D,OAbAK,GAAMI,SAAWR,KACjBI,EAAMV,OAASM,KAAKN,OACpBU,EAAMK,QAAUT,KAAKS,QACrBL,EAAMM,UAAYV,KAAKU,UACvBN,EAAMP,UAAYE,EAClBK,EAAMO,SAAWX,KAAKW,SACtBP,EAAMQ,QAAU,SAASC,GAExB,MAAgB,UAARA,EAAoBT,EAAQD,EAAYS,WAEjDlB,EAAOO,KAAKG,EAAOR,GAEM,kBAAdQ,GAAMU,MAAoBV,EAAMU,OACpCV,GAGRX,EAAKI,WACJH,OAAQ,SAASqB,EAAQC,GACxB,GAAIT,UAAUU,OAAS,EAAG,CACzB,GAAIT,GAAWR,KAAKe,EACpB,IAAIP,GAA6B,kBAATQ,MAErBR,EAASI,SAAWJ,EAASI,WAAaI,EAAMJ,YAClD,WAAWM,KAAKF,GAAQ,CAExB,GAAIG,GAASH,EAAMJ,SAEnBI,GAAQ,WACP,GAAII,GAAWpB,KAAKE,MAAQT,EAAKI,UAAUK,IAC3CF,MAAKE,KAAOM,CACZ,IAAIa,GAAcF,EAAOb,MAAMN,KAAMO,UAErC,OADAP,MAAKE,KAAOkB,EACLC,GAGRL,EAAMJ,QAAU,SAASC,GACxB,MAAgB,UAARA,EAAoBG,EAAQG,GAErCH,EAAML,SAAWlB,EAAKkB,SAEvBX,KAAKe,GAAUC,MACT,IAAID,EAAQ,CAClB,GAAIrB,GAASD,EAAKI,UAAUH,MAEvBD,GAAKK,cAA+B,kBAARE,QAChCN,EAASM,KAAKN,QAAUA,EAOzB,KALA,GAAIK,IAASuB,SAAU,MAEnBC,GAAU,cAAe,WAAY,WAErCC,EAAI/B,EAAKK,aAAe,EAAI,EACzB2B,EAAMF,EAAOC,MACfT,EAAOU,IAAQ1B,EAAM0B,IACxB/B,EAAOO,KAAKD,KAAMyB,EAAKV,EAAOU,GAKhC,KAAK,GAAIA,KAAOV,GACVhB,EAAM0B,IAAM/B,EAAOO,KAAKD,KAAMyB,EAAKV,EAAOU,IAGjD,MAAOzB,QAKTP,EAAOA,EAAKC,QACXS,YAAa,WACZH,KAAKN,OAAOa,UAAU,OAGvBC,SAAUkB,OACVC,QAAS,MAETlB,QAAS,SAASmB,EAAQC,EAAOC,GAChC,IAAK,GAAIL,KAAOG,GACaG,SAAxB/B,KAAKH,UAAU4B,IAClBI,EAAM5B,KAAK6B,EAASF,EAAOH,GAAMA,EAAKG,IAKzClB,UAAW,WACV,IAAK,GAAIc,GAAI,EAAGA,EAAIjB,UAAUU,OAAQO,IACV,kBAAhBjB,WAAUiB,GAEpBjB,UAAUiB,GAAGxB,KAAKH,WAGlBG,KAAKH,UAAUH,OAAOa,UAAUiB,GAGlC,OAAOxB,OAGRW,SAAU,WACT,MAAOqB,QAAOhC,KAAKY,cAGrBpB,EAASyC,SAASC,eAChBC,KAAM,SAASC,EAAUC,EAASrB,GAChC,GAAIoB,EAASE,gBAAkBF,EAASE,eAAeC,OAASH,EAASE,eAAeE,IAAK,CAG3F,GAAIC,GAAcjD,EAASkD,IAAIC,MAAMC,mBAAmBR,EAASE,eAAeC,MAAOH,EAASE,eAAeE,IAClG,WAATxB,GAA8B,SAATA,EACvBxB,EAASkD,IAAIC,MAAME,SAASJ,EAAYF,MAAOvB,IAC7B,SAATA,GAA6B,SAATA,IAC7BxB,EAASkD,IAAIC,MAAME,SAASJ,EAAYD,IAAKxB,GAE/C8B,WAAW,WACTV,EAASE,eAAeS,OAAON,EAAYF,MAAOE,EAAYD,MAC9D,KAINQ,MAAO,SAASZ,EAAUC,GACxB,OAAO,IAIX7C,EAASyC,SAASgB,aAChBd,KAAM,SAASC,EAAUC,EAASrB,GAChC,GAAIkC,GAAKC,EAAKC,CACd,IAAIpC,GAASA,EAAMqC,MAAQrC,EAAMsC,MAAQC,SAASvC,EAAMqC,KAAM,IAAM,GAAKE,SAASvC,EAAMsC,KAAM,IAAM,EAAG,CAOrG,IALEF,EADEpC,EAAMwC,WACD,iBAAmBxC,EAAMwC,WAAa,KAEtC,UAETJ,GAAQ,UACHD,EAAM,EAAGA,EAAMnC,EAAMsC,KAAMH,IAAQ,CAEtC,IADAC,GAAQ,OACHF,EAAM,EAAGA,EAAMlC,EAAMqC,KAAMH,IAC9BE,GAAQ,eAEVA,IAAQ,QAEVA,GAAQ,mBACRhB,EAASH,SAASE,KAAK,aAAciB,KAIzCJ,MAAO,SAASZ,EAAUC,GACxB,OAAO,IAIX7C,EAASyC,SAASwB,kBAChBtB,KAAM,SAASC,EAAUC,EAASrB,GAChC,GAAIoB,EAASE,gBAAkBF,EAASE,eAAeC,OAASH,EAASE,eAAeE,IAAK,CAC3F,GAEIkB,GAFAjB,EAAcjD,EAASkD,IAAIC,MAAMC,mBAAmBR,EAASE,eAAeC,MAAOH,EAASE,eAAeE,KAC3GmB,EAAMnE,EAASkD,IAAIC,MAAMiB,QAAQnB,EAAYF,OAE7CI,EAAQP,EAASE,eAAeK,KAEpCnD,GAASkD,IAAIC,MAAMkB,YAAYpB,EAAYF,MAAOvB,GAClD8B,WAAW,WAETY,EAAUlE,EAASkD,IAAIC,MAAMmB,SAASnB,EAAOgB,GAExCD,IACU,OAAT1C,IACF0C,EAAUlE,EAASkD,IAAIC,MAAMmB,SAASnB,GACpCQ,IAAOQ,EAAIR,IAAM,EACjBD,IAAOS,EAAIT,OAIF,UAATlC,IACF0C,EAAUlE,EAASkD,IAAIC,MAAMmB,SAASnB,GACpCQ,IAAOQ,EAAIR,IACXD,IAAOS,EAAIT,IAAM,MAInBQ,GACFtB,EAASE,eAAeS,OAAOW,EAASA,IAEzC,KAIPV,MAAO,SAASZ,EAAUC,GACxB,OAAO,IAIX7C,EAASyC,SAAS8B,iBAChB5B,KAAM,SAASC,EAAUC,GACnBD,EAASE,gBAAkBF,EAASE,eAAeC,OAASH,EAASE,eAAeE,MAClFxC,KAAKgD,MAAMZ,EAAUC,GACvB7C,EAASkD,IAAIC,MAAMqB,YAAY5B,EAASE,eAAeC,OAEvD/C,EAASkD,IAAIC,MAAMsB,kBAAkB7B,EAASE,eAAeC,MAAOH,EAASE,eAAeE,OAKlGQ,MAAO,SAASZ,EAAUC,GACxB,GAAID,EAASE,eAAgB,CAC3B,GAAIC,GAAQH,EAASE,eAAeC,MAChCC,EAAMJ,EAASE,eAAeE,GAClC,IAAID,GAASC,GAAOD,GAASC,IAEzBhD,EAASkD,IAAIwB,aAAa3B,EAAO,YACjCgB,SAAS/D,EAASkD,IAAIwB,aAAa3B,EAAO,WAAY,IAAM,GAE5D/C,EAASkD,IAAIwB,aAAa3B,EAAO,YACjCgB,SAAS/D,EAASkD,IAAIwB,aAAa3B,EAAO,WAAY,IAAM,GAG9D,OAAQA,GAGZ,OAAO,IAIX,WA2BE,QAAS4B,GAAYC,EAAMC,GAGzB,IAAK,GADHC,GADEC,KAEKC,EAAI,EAAGC,EAAML,EAAKnD,OAAYwD,EAAJD,EAASA,IAE1C,GADAF,EAAIF,EAAKI,GAAGE,iBAAiBL,GAE3B,IAAI,GAAI7C,GAAI8C,EAAErD,OAAQO,IAAK+C,EAAII,QAAQL,EAAE9C,KAG7C,MAAO+C,GAGT,QAASK,GAAcC,GACrBA,EAAGC,WAAWC,YAAYF,GAG5B,QAASG,GAAYC,EAAeC,GAClCD,EAAcH,WAAWK,aAAaD,EAASD,EAAcG,aAG/D,QAASC,GAASC,EAAMC,GAEtB,IADA,GAAIC,GAAUF,EAAKF,YACO,GAAnBI,EAAQC,UAEb,GADAD,EAAUA,EAAQJ,aACbG,GAAOA,GAAOC,EAAQE,QAAQC,cACjC,MAAOH,EAGX,OAAO,MArDT,GAAII,GAAMpG,EAASkD,IAEfmD,EAAU,SAASC,GACrB9F,KAAK6E,GAAKiB,EACV9F,KAAK+F,WAAW,EAChB/F,KAAKgG,WAAW,EAChBhG,KAAKiG,UAAU,EACfjG,KAAKkG,SAAS,EACdlG,KAAKmG,UAAU,EACfnG,KAAKoG,SAAS,EACdpG,KAAKqG,QAAQ,EACbrG,KAAKsG,kBACLtG,KAAKuG,UAAW,GAGdC,EAAsB,SAAUV,EAAMnD,GACpCmD,GACF9F,KAAK8F,KAAOA,EACZ9F,KAAK2C,MAAQiD,EAAIa,iBAAiBX,GAAQzB,MAAO,WACxC1B,IACT3C,KAAK2C,MAAQA,EACb3C,KAAK8F,KAAO9F,KAAK2C,MAAM+B,iBAAiB,UAAU,IAmCtD8B,GAAoB3G,WAElB6G,oBAAqB,SAASZ,EAAMa,EAAKC,EAAGC,EAAGC,EAAOC,GAKpD,IAAK,GAJDC,MACFC,EAAOL,GAAK,EAAUrD,SAASwD,EAAO,IAAM,EAAI,GAChDG,EAAOL,GAAK,EAAUtD,SAASuD,EAAO,IAAM,EAAI,GAEzCK,EAAKP,EAASK,GAANE,EAAYA,IAAM,CACX,mBAAXR,GAAIQ,KAAsBR,EAAIQ,MACzC,KAAK,GAAIC,GAAKP,EAASK,GAANE,EAAYA,IAC3BT,EAAIQ,GAAIC,GAAM,GAAIvB,GAAQC,GAC1Ba,EAAIQ,GAAIC,GAAIrB,UAAae,GAASvD,SAASuD,EAAO,IAAM,EACxDH,EAAIQ,GAAIC,GAAIpB,UAAae,GAASxD,SAASwD,EAAO,IAAM,EACxDJ,EAAIQ,GAAIC,GAAInB,SAAWmB,GAAMP,EAC7BF,EAAIQ,GAAIC,GAAIlB,QAAUkB,GAAMF,EAC5BP,EAAIQ,GAAIC,GAAIjB,SAAWgB,GAAMP,EAC7BD,EAAIQ,GAAIC,GAAIhB,QAAUe,GAAMF,EAC5BN,EAAIQ,GAAIC,GAAIf,OAASe,GAAMP,GAAKM,GAAMP,EACtCD,EAAIQ,GAAIC,GAAId,eAAiBU,EAE7BA,EAAYK,KAAKV,EAAIQ,GAAIC,MAK/BE,kBAAmB,SAASxB,GAE1B,GADAA,EAAKS,UAAW,EACZT,EAAKQ,eAAerF,OAAS,EAC/B,IAAK,GAAIsG,GAAI,EAAGC,EAAO1B,EAAKQ,eAAerF,OAAYuG,EAAJD,EAAUA,IAC7DzB,EAAKQ,eAAeiB,GAAGhB,UAAW,GAKtCkB,YAAa,WACX,GAEEC,GAAMvE,EAAKwE,EAAOC,EAAM9B,EACxBe,EACAC,EAAOC,EAJLJ,KACAkB,EAAY7H,KAAK8H,cAKrB,KAAKJ,EAAO,EAAGA,EAAOG,EAAU5G,OAAQyG,IAKtC,IAJAvE,EAAM0E,EAAUH,GAChBC,EAAQ3H,KAAK+H,YAAY5E,GACzB0D,EAAI,EACoB,mBAAbF,GAAIe,KAAwBf,EAAIe,OACtCE,EAAO,EAAGA,EAAOD,EAAM1G,OAAQ2G,IAAQ,CAK1C,IAJA9B,EAAO6B,EAAMC,GAIiB,mBAAhBjB,GAAIe,GAAMb,IAAqBA,GAE7CC,GAAQlB,EAAI1B,aAAa4B,EAAM,WAC/BiB,EAAQnB,EAAI1B,aAAa4B,EAAM,WAE3BgB,GAASC,GACX/G,KAAK0G,oBAAoBZ,EAAMa,EAAKe,EAAMb,EAAGC,EAAOC,GACpDF,GAAS,EAAUtD,SAASuD,EAAO,IAAM,IAEzCH,EAAIe,GAAMb,GAAK,GAAIhB,GAAQC,GAC3Be,KAKN,MADA7G,MAAK2G,IAAMA,EACJA,GAGToB,YAAa,SAAS5E,GACpB,GAAI6E,GAAehI,KAAK2C,MAAM+B,iBAAiB,SAC7CuD,EAAc,EAAiB9D,EAAY6D,EAAc,aACzDE,EAAW/E,EAAIuB,iBAAiB,UAChCyD,EAAcF,EAAYhH,OAAS,EAAKzB,EAAS4I,KAAKC,MAAMH,GAAUI,QAAQL,GAAeC,CAE/F,OAAOC,IAGTL,aAAc,WACZ,GAAIE,GAAehI,KAAK2C,MAAM+B,iBAAiB,SAC7C6D,EAAa,EAAiBpE,EAAY6D,EAAc,SACxDQ,EAAUxI,KAAK2C,MAAM+B,iBAAiB,MACtCmD,EAAaU,EAAWtH,OAAS,EAAKzB,EAAS4I,KAAKC,MAAMG,GAASF,QAAQC,GAAcC,CAE3F,OAAOX,IAGTY,YAAa,SAAS3C,GAIpB,IAAK,GAHD4C,GAAW1I,KAAK2G,IAAI1F,OACtB0H,EAAY3I,KAAK2G,KAAO3G,KAAK2G,IAAI,GAAM3G,KAAK2G,IAAI,GAAG1F,OAAS,EAErD2H,EAAQ,EAAUF,EAARE,EAAkBA,IACnC,IAAK,GAAIC,GAAQ,EAAUF,EAARE,EAAkBA,IACnC,GAAI7I,KAAK2G,IAAIiC,GAAOC,GAAOhE,KAAOiB,EAChC,OAAQ3C,IAAOyF,EAAO1F,IAAO2F,EAInC,QAAO,GAGTC,kBAAmB,SAASnF,GAE1B,MADA3D,MAAKyH,cACDzH,KAAK2G,IAAIhD,EAAIR,MAAQnD,KAAK2G,IAAIhD,EAAIR,KAAKQ,EAAIT,MAAQlD,KAAK2G,IAAIhD,EAAIR,KAAKQ,EAAIT,KAAK2B,GACzE7E,KAAK2G,IAAIhD,EAAIR,KAAKQ,EAAIT,KAAK2B,GAE7B,MAGTkE,YAAa,SAASC,GACpB,GAAIC,KAMJ,IALAjJ,KAAKyH,cACLzH,KAAKkJ,UAAYlJ,KAAKyI,YAAYzI,KAAK8F,MACvC9F,KAAKmJ,QAAUnJ,KAAKyI,YAAYO,GAG5BhJ,KAAKkJ,UAAU/F,IAAMnD,KAAKmJ,QAAQhG,KAAQnD,KAAKkJ,UAAU/F,KAAOnD,KAAKmJ,QAAQhG,KAAOnD,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAM,CAC9H,GAAIkG,GAAWpJ,KAAKkJ,SACpBlJ,MAAKkJ,UAAYlJ,KAAKmJ,QACtBnJ,KAAKmJ,QAAUC,EAEjB,GAAIpJ,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAK,CACzC,GAAImG,GAAYrJ,KAAKkJ,UAAUhG,GAC/BlD,MAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAClClD,KAAKmJ,QAAQjG,IAAMmG,EAGrB,GAAsB,MAAlBrJ,KAAKkJ,WAAqC,MAAhBlJ,KAAKmJ,QACjC,IAAK,GAAIhG,GAAMnD,KAAKkJ,UAAU/F,IAAKmG,EAAOtJ,KAAKmJ,QAAQhG,IAAYmG,GAAPnG,EAAaA,IACvE,IAAK,GAAID,GAAMlD,KAAKkJ,UAAUhG,IAAKqG,EAAOvJ,KAAKmJ,QAAQjG,IAAYqG,GAAPrG,EAAaA,IACvE+F,EAAI5B,KAAKrH,KAAK2G,IAAIxD,GAAKD,GAAK2B,GAIlC,OAAOoE,IAGTrG,mBAAoB,SAAS4G,GAM3B,GALAxJ,KAAKyH,cACLzH,KAAKkJ,UAAYlJ,KAAKyI,YAAYzI,KAAK8F,MACvC9F,KAAKmJ,QAAUnJ,KAAKyI,YAAYe,GAG5BxJ,KAAKkJ,UAAU/F,IAAMnD,KAAKmJ,QAAQhG,KAAQnD,KAAKkJ,UAAU/F,KAAOnD,KAAKmJ,QAAQhG,KAAOnD,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAM,CAC9H,GAAIkG,GAAWpJ,KAAKkJ,SACpBlJ,MAAKkJ,UAAYlJ,KAAKmJ,QACtBnJ,KAAKmJ,QAAUC,EAEjB,GAAIpJ,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAK,CACzC,GAAImG,GAAYrJ,KAAKkJ,UAAUhG,GAC/BlD,MAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAClClD,KAAKmJ,QAAQjG,IAAMmG,EAGrB,OACE9G,MAASvC,KAAK2G,IAAI3G,KAAKkJ,UAAU/F,KAAKnD,KAAKkJ,UAAUhG,KAAK2B,GAC1DrC,IAAOxC,KAAK2G,IAAI3G,KAAKmJ,QAAQhG,KAAKnD,KAAKmJ,QAAQjG,KAAK2B,KAIxD4E,YAAa,SAASlE,EAAKmE,EAAIC,GAI7B,IAAK,GADH7D,GAFE8D,EAAM5J,KAAK2C,MAAMkH,cACnBC,EAAOF,EAAIG,yBAEJvI,EAAI,EAAOkI,EAAJlI,EAAQA,IAAK,CAG3B,GAFAsE,EAAO8D,EAAII,cAAczE,GAErBoE,EACF,IAAK,GAAIM,KAAQN,GACXA,EAAMO,eAAeD,IACvBnE,EAAKqE,aAAaF,EAAMN,EAAMM,GAMpCnE,GAAKsE,YAAYC,SAASC,eAAe,MACzCR,EAAKM,YAAYtE,GAEnB,MAAOgE,IAITS,0BAA2B,SAASrH,EAAKC,GAGvC,IAAK,GAFDyD,GAAI5G,KAAK2G,IAAIxD,GACfqH,EAAU,GACHhJ,EAAI,EAAkB0B,EAAJ1B,EAASA,IAC9BoF,EAAEpF,GAAG6E,QACPmE,GAGJ,OAAOA,IAGTC,oBAAqB,SAAStH,EAAKuH,GAIjC,IAAK,GAFH5E,GAAMnC,EADJgE,EAAQ3H,KAAK+H,YAAY5E,GAGpByE,EAAO,EAAGV,EAAOS,EAAM1G,OAAeiG,EAAPU,EAAaA,IAGnD,GAFA9B,EAAO6B,EAAMC,GACbjE,EAAM3D,KAAKyI,YAAY3C,GACnBnC,KAAQ,GAA6B,mBAAZ+G,IAA2B/G,EAAIR,KAAOuH,EACjE,MAAO5E,EAGX,OAAO,OAGT6E,iBAAkB,WAChB,GAAIhD,GAAQ3H,KAAK2C,MAAM+B,iBAAiB,SACxC,OAAKiD,IAAyB,GAAhBA,EAAM1G,QAIX,GAHP2D,EAAc5E,KAAK2C,QACZ,IAOXiI,gBAAiB,SAAS9E,GACxB,GAAIA,EAAKC,UAAW,CAClB,GAAI8E,GAAUtH,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,YAAc,EAAG,IAChEiG,EAAQhF,EAAKjB,GAAGa,QAAQC,aAC1B,IAAIkF,EAAU,EAAG,CACf,GAAIE,GAAW/K,KAAKyJ,YAAYqB,EAAOD,EAAS,EAChD7F,GAAYc,EAAKjB,GAAIkG,GAEvBjF,EAAKjB,GAAGmG,gBAAgB,aAI5BC,aAAc,SAASC,EAAOvH,GAC5B,GAAIiD,GAAI,KACNC,EAAI,IAENlD,GAAMA,GAAO3D,KAAK2D,GAElB,KAAK,GAAIiE,GAAO,EAAGV,EAAOlH,KAAK2G,IAAIhD,EAAIR,KAAKlC,OAAeiG,EAAPU,EAAaA,IAE/D,GADAf,EAAI7G,KAAK2G,IAAIhD,EAAIR,KAAKyE,GAClBf,EAAER,SACJO,EAAIhB,EAAIa,iBAAiBI,EAAEhC,IAAMR,MAAO,QAEtC,MAAOuC,EASb,OAJU,QAANA,GAAcsE,IAChBtE,EAAIhB,EAAIa,iBAAiBzG,KAAK2G,IAAIhD,EAAIR,KAAKQ,EAAIT,KAAK2B,IAAMR,MAAO,QAAW,MAGvEuC,GAGTuE,YAAa,SAAShI,EAAKD,EAAK2H,EAASC,EAAOjE,GAC9C,GAAID,GAAI5G,KAAKiL,cAAa,GAAQ9H,IAAOA,EAAKD,IAAOA,IACnDkI,EAAYpL,KAAKyJ,YAAYqB,EAAOD,EAEtC,IAAIjE,EAAG,CACL,GAAIyE,GAASrL,KAAKuK,0BAA0BrH,EAAKC,EAC7CkI,IAAU,EACZrG,EAAYhF,KAAK+H,YAAYnB,GAAGyE,GAASD,GAEzCxE,EAAEzB,aAAaiG,EAAWxE,EAAE0E,gBAEzB,CACL,GAAInE,GAAKnH,KAAK2C,MAAMkH,cAAcG,cAAc,KAChD7C,GAAGiD,YAAYgB,GACfpG,EAAYY,EAAIa,iBAAiBI,EAAEhC,IAAMR,MAAO,OAAS8C,KAI7DoE,SAAU,SAASC,GAOjB,GANAxL,KAAKwL,GAAKA,EACVxL,KAAKyH,cACLzH,KAAKkJ,UAAYlJ,KAAKyI,YAAYzI,KAAK8F,MACvC9F,KAAKmJ,QAAUnJ,KAAKyI,YAAYzI,KAAKwL,IAGjCxL,KAAKkJ,UAAU/F,IAAMnD,KAAKmJ,QAAQhG,KAAQnD,KAAKkJ,UAAU/F,KAAOnD,KAAKmJ,QAAQhG,KAAOnD,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAM,CAC9H,GAAIkG,GAAWpJ,KAAKkJ,SACpBlJ,MAAKkJ,UAAYlJ,KAAKmJ,QACtBnJ,KAAKmJ,QAAUC,EAEjB,GAAIpJ,KAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAAK,CACzC,GAAImG,GAAYrJ,KAAKkJ,UAAUhG,GAC/BlD,MAAKkJ,UAAUhG,IAAMlD,KAAKmJ,QAAQjG,IAClClD,KAAKmJ,QAAQjG,IAAMmG,EAGrB,IAAK,GAAIlG,GAAMnD,KAAKkJ,UAAU/F,IAAKmG,EAAOtJ,KAAKmJ,QAAQhG,IAAYmG,GAAPnG,EAAaA,IACvE,IAAK,GAAID,GAAMlD,KAAKkJ,UAAUhG,IAAKqG,EAAOvJ,KAAKmJ,QAAQjG,IAAYqG,GAAPrG,EAAaA,IACvE,GAAIlD,KAAK2G,IAAIxD,GAAKD,GAAK6C,WAAa/F,KAAK2G,IAAIxD,GAAKD,GAAK8C,UACrD,OAAO,CAIb,QAAO,GAGTyF,iBAAkB,SAAS3F,EAAM4F,GAC/B,GAAIhC,GAAKnG,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI6G,GAAO,IAAM,CACrDhC,IAAM,EACR5D,EAAKjB,GAAGsF,aAAauB,EAAMhC,IAE3B5D,EAAKjB,GAAGmG,gBAAgBU,GACZ,WAARA,IACF5F,EAAKC,WAAY,GAEP,WAAR2F,IACF5F,EAAKE,WAAY,GAEnBF,EAAKG,UAAW,EAChBH,EAAKI,SAAU,EACfJ,EAAKK,UAAW,EAChBL,EAAKM,SAAU,EACfN,EAAKO,QAAS,IAIlBsF,mBAAoB,WAClB,GAAIxI,GAAK2C,EAAM4B,EAAMT,EAAMW,EAAMV,EAAM0E,CAGvC,IADA5L,KAAKyH,cACDzH,KAAK2G,IAAK,CAGZ,IAFAe,EAAO,EACPT,EAAOjH,KAAK2G,IAAI1F,OACHgG,EAAPS,EAAaA,IAAQ,CAKzB,IAJAvE,EAAMnD,KAAK2G,IAAIe,GACfkE,GAAa,EACbhE,EAAO,EACPV,EAAO/D,EAAIlC,OACGiG,EAAPU,EAAaA,IAElB,GADA9B,EAAO3C,EAAIyE,KACLhC,EAAI1B,aAAa4B,EAAKjB,GAAI,YAActB,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,GAAKiB,EAAKK,YAAa,GAAO,CAC/HyF,GAAa,CACb,OAGJ,GAAIA,EAEF,IADAhE,EAAO,EACOV,EAAPU,EAAaA,IAClB5H,KAAKyL,iBAAiBtI,EAAIyE,GAAO,WAMvC,GAAIC,GAAY7H,KAAK8H,cAGrB,KAFAJ,EAAO,EACPT,EAAOY,EAAU5G,OACJgG,EAAPS,EAAaA,IACjBvE,EAAM0E,EAAUH,GACa,GAAzBvE,EAAI0I,WAAW5K,QAAgB,QAAQC,KAAKiC,EAAI2I,aAAe3I,EAAI4I,YACrEnH,EAAczB,KAMtB6I,iBAAkB,WAChB,GAAIC,GAAQ,EACVC,EAAQ,EACRC,EAAW,IAGb,IADAnM,KAAKyH,cACDzH,KAAK2G,IAAK,CAGZsF,EAAQjM,KAAK2G,IAAI1F,MACjB,KAAK,GAAIyG,GAAO,EAAUuE,EAAPvE,EAAcA,IAC3B1H,KAAK2G,IAAIe,GAAMzG,OAASiL,IAASA,EAAQlM,KAAK2G,IAAIe,GAAMzG,OAG9D,KAAK,GAAIkC,GAAM,EAAS8I,EAAN9I,EAAaA,IAC7B,IAAK,GAAID,GAAM,EAASgJ,EAANhJ,EAAaA,IACzBlD,KAAK2G,IAAIxD,KAASnD,KAAK2G,IAAIxD,GAAKD,IAC9BA,EAAM,IACRlD,KAAK2G,IAAIxD,GAAKD,GAAO,GAAI2C,GAAQ7F,KAAKyJ,YAAY,KAAM,IACxD0C,EAAWnM,KAAK2G,IAAIxD,GAAKD,EAAI,GACzBiJ,GAAYA,EAAStH,IAAMsH,EAAStH,GAAGuH,QACzCpH,EAAYhF,KAAK2G,IAAIxD,GAAKD,EAAI,GAAG2B,GAAI7E,KAAK2G,IAAIxD,GAAKD,GAAK2B,OAStEwH,QAAS,WACP,MAAKrM,MAAK2K,oBAKD,GAJP3K,KAAK2L,qBACL3L,KAAKgM,oBACE,IAMXM,QAAS,WACP,GAAItM,KAAKqM,YACPrM,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MAE7B9F,KAAK2D,KAAK,CACZ,GAAI4I,GAAWvM,KAAK2G,IAAI3G,KAAK2D,IAAIR,KAAKnD,KAAK2D,IAAIT,KAC7C2H,EAAWjF,EAAI1B,aAAaqI,EAAS1H,GAAI,WAActB,SAASqC,EAAI1B,aAAaqI,EAAS1H,GAAI,WAAY,IAAM,EAChHiG,EAAQyB,EAAS1H,GAAGa,QAAQC,aAE9B,IAAI4G,EAASvG,UAAW,CACtB,GAAIwG,GAAUjJ,SAASqC,EAAI1B,aAAaqI,EAAS1H,GAAI,WAAY,GACjE,IAAI2H,EAAU,EACZ,IAAK,GAAI9C,GAAK,EAAGJ,EAAOkD,EAAU,EAASlD,GAANI,EAAYA,IAC/C1J,KAAKmL,YAAYnL,KAAK2D,IAAIR,IAAMuG,EAAI1J,KAAK2D,IAAIT,IAAK2H,EAASC,EAAOyB,EAGtEA,GAAS1H,GAAGmG,gBAAgB,WAE9BhL,KAAK4K,gBAAgB2B,KAM3BE,MAAO,SAASjB,GACd,GAAIxL,KAAKqM,UACP,GAAIrM,KAAKuL,SAASC,GAAK,CAIrB,IAAK,GAHDgB,GAAUxM,KAAKmJ,QAAQhG,IAAMnD,KAAKkJ,UAAU/F,IAAM,EACpD0H,EAAU7K,KAAKmJ,QAAQjG,IAAMlD,KAAKkJ,UAAUhG,IAAM,EAE3CC,EAAMnD,KAAKkJ,UAAU/F,IAAKmG,EAAOtJ,KAAKmJ,QAAQhG,IAAYmG,GAAPnG,EAAaA,IACvE,IAAK,GAAID,GAAMlD,KAAKkJ,UAAUhG,IAAKqG,EAAOvJ,KAAKmJ,QAAQjG,IAAYqG,GAAPrG,EAAaA,IAEnEC,GAAOnD,KAAKkJ,UAAU/F,KAAOD,GAAOlD,KAAKkJ,UAAUhG,KACjDsJ,EAAU,GACZxM,KAAK2G,IAAIxD,GAAKD,GAAK2B,GAAGsF,aAAa,UAAWqC,GAE5C3B,EAAU,GACZ7K,KAAK2G,IAAIxD,GAAKD,GAAK2B,GAAGsF,aAAa,UAAWU,KAI1C,kBAAkB3J,KAAKlB,KAAK2G,IAAIxD,GAAKD,GAAK2B,GAAG6H,UAAU/G,iBAC3D3F,KAAK2G,IAAI3G,KAAKkJ,UAAU/F,KAAKnD,KAAKkJ,UAAUhG,KAAK2B,GAAG6H,WAAa,IAAM1M,KAAK2G,IAAIxD,GAAKD,GAAK2B,GAAG6H,WAE/F9H,EAAc5E,KAAK2G,IAAIxD,GAAKD,GAAK2B,IAKvC7E,MAAKqM,cAED9M,QAAOoN,SACTA,QAAQC,IAAI,oDAQpBC,sBAAuB,SAAS/G,GAC9B,GAAIgH,GAAU9M,KAAKyI,YAAY3C,EAAKjB,IAClCkI,EAAYD,EAAQ3J,IAAM,EAC1B6J,GAAU7J,IAAO4J,EAAW7J,IAAO4J,EAAQ5J,IAE7C,IAAI6J,EAAY/M,KAAK2G,IAAI1F,OAAQ,CAE/B,GAAIkC,GAAMnD,KAAKiL,cAAa,EAAO+B,EACnC,IAAY,OAAR7J,EAAc,CAChB,GAAIkI,GAASrL,KAAKuK,0BAA0ByC,EAAO9J,IAAK8J,EAAO7J,IAC/D,IAAIkI,GAAU,EACZrG,EAAYhF,KAAK+H,YAAY5E,GAAKkI,GAASvF,EAAKjB,QAC3C,CACL,GAAIoI,GAAWjN,KAAKyK,oBAAoBtH,EAAK4J,EAC5B,QAAbE,EACFjI,EAAYiI,EAAUnH,EAAKjB,IAE3B1B,EAAIgC,aAAaW,EAAKjB,GAAI1B,EAAImI,YAG9B/H,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,EACvDiB,EAAKjB,GAAGsF,aAAa,UAAW5G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,GAErFiB,EAAKjB,GAAGmG,gBAAgB,cAShCkC,cAAe,SAASpH,GAClBA,EAAKO,OACHP,EAAKE,UACPhG,KAAK6M,sBAAsB/G,GAE3BlB,EAAckB,EAAKjB,IAGjBtB,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,EACvDiB,EAAKjB,GAAGsF,aAAa,UAAW5G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,GAErFiB,EAAKjB,GAAGmG,gBAAgB,YAK9BmC,qBAAsB,WACpB,GAAIxF,KAGJ,IAFA3H,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MAC7B9F,KAAK2D,OAAQ,EAEf,IAAK,GADDyJ,GAASpN,KAAK2G,IAAI3G,KAAK2D,IAAIR,KACtByE,EAAO,EAAGV,EAAOkG,EAAOnM,OAAeiG,EAAPU,EAAaA,IAChDwF,EAAOxF,GAAMvB,QACfsB,EAAMN,KAAK+F,EAAOxF,GAAM/C,GAI9B,OAAO8C,IAGT0F,wBAAyB,WACvB,GAAI1F,KAGJ,IAFA3H,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MAC7B9F,KAAK2D,OAAQ,EACf,IAAK,GAAI+D,GAAO,EAAGT,EAAOjH,KAAK2G,IAAI1F,OAAegG,EAAPS,EAAaA,IAClD1H,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,MAAQlD,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,KAAKmD,QAC/DsB,EAAMN,KAAKrH,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,KAAK2B,GAI9C,OAAO8C,IAIT2F,UAAW,WACT,GAAIC,GAAS3H,EAAIa,iBAAiBzG,KAAK8F,MAAQzB,MAAO,MACtD,IAAIkJ,EAAQ,CAGV,GAFAvN,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MAC7B9F,KAAK2D,OAAQ,EAEf,IAAK,GADDyJ,GAASpN,KAAK2G,IAAI3G,KAAK2D,IAAIR,KACtByE,EAAO,EAAGV,EAAOkG,EAAOnM,OAAeiG,EAAPU,EAAaA,IAC/CwF,EAAOxF,GAAMrB,WAChBvG,KAAKsH,kBAAkB8F,EAAOxF,IAC9B5H,KAAKkN,cAAcE,EAAOxF,IAIhChD,GAAc2I,KAIlBC,cAAe,SAAS1H,GAClBA,EAAKC,UACHxC,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,EACvDiB,EAAKjB,GAAGsF,aAAa,UAAW5G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,GAErFiB,EAAKjB,GAAGmG,gBAAgB,WAEjBlF,EAAKO,QACdzB,EAAckB,EAAKjB,KAIvB4I,aAAc,WAGZ,GAFAzN,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MAC7B9F,KAAK2D,OAAQ,EACf,IAAK,GAAI+D,GAAO,EAAGT,EAAOjH,KAAK2G,IAAI1F,OAAegG,EAAPS,EAAaA,IACjD1H,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,KAAKqD,WAChCvG,KAAKsH,kBAAkBtH,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,MAC/ClD,KAAKwN,cAAcxN,KAAK2G,IAAIe,GAAM1H,KAAK2D,IAAIT,QAOnDwK,OAAQ,SAASC,GACf,GAAI3N,KAAKqM,UAAW,CAClB,OAAQsB,GACN,IAAK,MACH3N,KAAKsN,WACP,MACA,KAAK,SACHtN,KAAKyN,eAGTzN,KAAKqM,YAITuB,OAAQ,SAASC,GACf,GAAIjE,GAAM5J,KAAK2C,MAAMkH,aAQrB,IANA7J,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MACpB,SAAT+H,GAAoBjI,EAAI1B,aAAalE,KAAK8F,KAAM,aAClD9F,KAAK2D,IAAIR,IAAMnD,KAAK2D,IAAIR,IAAMI,SAASqC,EAAI1B,aAAalE,KAAK8F,KAAM,WAAY,IAAM,GAGnF9F,KAAK2D,OAAQ,EAAO,CAItB,IAAK,GAHDyJ,GAASpN,KAAK2G,IAAI3G,KAAK2D,IAAIR,KAC7B2K,EAASlE,EAAII,cAAc,MAEpBtC,EAAO,EAAGT,EAAOmG,EAAOnM,OAAegG,EAAPS,EAAaA,IAC/C0F,EAAO1F,GAAMnB,WAChBvG,KAAKsH,kBAAkB8F,EAAO1F,IAC9B1H,KAAK+N,WAAWX,EAAO1F,GAAOoG,EAAQD,GAI1C,QAAQA,GACN,IAAK,QACH7I,EAAYhF,KAAKiL,cAAa,GAAO6C,EACvC,MACA,KAAK,QACH,GAAIE,GAAKpI,EAAIa,iBAAiBzG,KAAK2G,IAAI3G,KAAK2D,IAAIR,KAAKnD,KAAK2D,IAAIT,KAAK2B,IAAMR,MAAO,MAC5E2J,IACFA,EAAGlJ,WAAWK,aAAa2I,EAAQE,MAO7CD,WAAY,SAASjI,EAAM3C,EAAK0K,GAC9B,GAAII,GAAenI,EAAc,WAAK+E,QAAYjF,EAAI1B,aAAa4B,EAAKjB,GAAI,YAAc,IACtFiB,GAAKO,OACM,SAATwH,GAAoB/H,EAAKE,UAC3BF,EAAKjB,GAAGsF,aAAa,UAAW5G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAG,WAAY,IAAM,GAEpF1B,EAAIiH,YAAYpK,KAAKyJ,YAAY,KAAM,EAAGwE,IAG/B,SAATJ,GAAoB/H,EAAKE,WAAaF,EAAKM,QAC7CjD,EAAIiH,YAAYpK,KAAKyJ,YAAY,KAAM,EAAGwE,IACjCpH,EAAEb,WACXF,EAAKjB,GAAGoF,KAAK,UAAW1G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,IAKnFqJ,IAAK,SAASL,GACR7N,KAAKqM,aACM,SAATwB,GAA6B,SAATA,IACtB7N,KAAK4N,OAAOC,IAED,UAATA,GAA8B,SAATA,IACvB7N,KAAKmO,UAAUN,KAKrBO,WAAY,SAAUtI,EAAM4B,EAAMmG,GAChC,GAAIQ,GACFvD,EAAQhF,EAAKjB,GAAGa,QAAQC,aAI1B,QAAQkI,GACN,IAAK,SACHQ,GAAUvI,EAAKC,WAAaD,EAAKG,QACnC,MACA,KAAK,QACHoI,GAAUvI,EAAKC,WAAaD,EAAKI,SAAYJ,EAAKC,WAAaD,EAAKjB,IAAM7E,KAAK8F,KAInF,GAAIuI,EAAM,CAER,OAAQR,GACN,IAAK,SACH/H,EAAKjB,GAAGC,WAAWK,aAAanF,KAAKyJ,YAAYqB,EAAO,GAAIhF,EAAKjB,GACnE,MACA,KAAK,QACHG,EAAYc,EAAKjB,GAAI7E,KAAKyJ,YAAYqB,EAAO,IAK7ChF,EAAKE,WACPhG,KAAKsO,yBAAyBxI,EAAM4B,EAAK,EAAGmG,OAK9C/H,GAAKjB,GAAGsF,aAAa,UAAY5G,SAASqC,EAAI1B,aAAa4B,EAAKjB,GAAI,WAAY,IAAM,IAI1FsJ,UAAW,SAASN,GAClB,GAAI1K,GAAKoL,CAQT,IANAvO,KAAKyH,cACLzH,KAAK2D,IAAM3D,KAAKyI,YAAYzI,KAAK8F,MACpB,SAAT+H,GAAoBjI,EAAI1B,aAAalE,KAAK8F,KAAM,aAClD9F,KAAK2D,IAAIT,IAAMlD,KAAK2D,IAAIT,IAAMK,SAASqC,EAAI1B,aAAalE,KAAK8F,KAAM,WAAY,IAAM,GAGnF9F,KAAK2D,OAAQ,EACf,IAAK,GAAI+D,GAAO,EAAGT,EAAOjH,KAAK2G,IAAI1F,OAAegG,EAAPS,EAAaA,IACtDvE,EAAMnD,KAAK2G,IAAIe,GACXvE,EAAInD,KAAK2D,IAAIT,OACfqL,EAAUpL,EAAInD,KAAK2D,IAAIT,KAClBqL,EAAQhI,WACXvG,KAAKsH,kBAAkBiH,GACvBvO,KAAKoO,WAAWG,EAAS7G,EAAOmG,MAO1CS,yBAA0B,SAAUxI,EAAM4B,EAAMmG,GAQ9C,IAAK,GAJHjG,GAAM4G,EAENC,EALEC,EAAYnL,SAASqC,EAAI1B,aAAalE,KAAK8F,KAAM,WAAY,IAAM,EACrE6I,EAAO/I,EAAIa,iBAAiBX,EAAKjB,IAAMR,MAAO,OAC9CyG,EAAQhF,EAAKjB,GAAGa,QAAQC,cAExBiE,EAAM5J,KAAK2C,MAAMkH,cAGVrI,EAAI,EAAOkN,EAAJlN,EAAeA,IAG7B,GAFAoG,EAAO5H,KAAKuK,0BAA0BvK,KAAK2D,IAAIT,IAAMwE,EAAOlG,GAC5DmN,EAAOtJ,EAASsJ,EAAM,MAEpB,GAAI/G,EAAO,EACT,OAAQiG,GACN,IAAK,SACHW,EAAexO,KAAK+H,YAAY4G,GAC5B/G,EAAO,GAAK5H,KAAK2G,IAAIe,EAAOlG,GAAGxB,KAAK2D,IAAIT,KAAK2B,IAAM2J,EAAa5G,IAASA,GAAQ4G,EAAavN,OAAS,EACxG+D,EAAYwJ,EAAa5G,GAAO5H,KAAKyJ,YAAYqB,EAAO,IAEzD0D,EAAa5G,GAAM9C,WAAWK,aAAanF,KAAKyJ,YAAYqB,EAAO,GAAI0D,EAAa5G,GAGxF,MACA,KAAK,QACH5C,EAAYhF,KAAK+H,YAAY4G,GAAM/G,GAAO5H,KAAKyJ,YAAYqB,EAAO,QAItE6D,GAAKxJ,aAAanF,KAAKyJ,YAAYqB,EAAO,GAAI6D,EAAKrD,gBAGrDmD,GAAO7E,EAAII,cAAc,MACzByE,EAAKrE,YAAYpK,KAAKyJ,YAAYqB,EAAO,IACzC9K,KAAK2C,MAAMyH,YAAYqE,KAM/B7I,EAAIjD,OACFiM,gBAAiB,SAASC,EAAOC,GAC/B,GAAIC,GAAK,GAAIvI,GAAoBqI,EACjC,OAAOE,GAAGhG,YAAY+F,IAGxBjM,SAAU,SAASiD,EAAM+H,GACvB,GAAIhH,GAAI,GAAIL,GAAoBV,EAChCe,GAAEqH,IAAIL,IAGRhK,YAAa,SAASiC,EAAM6H,GAC1B,GAAI9G,GAAI,GAAIL,GAAoBV,EAChCe,GAAE6G,OAAOC,IAGX1J,kBAAmB,SAAS4K,EAAOC,GACjC,GAAIC,GAAK,GAAIvI,GAAoBqI,EACjCE,GAAGtC,MAAMqC,IAGX9K,YAAa,SAAS8B,GACpB,GAAIe,GAAI,GAAIL,GAAoBV,EAChCe,GAAEyF,WAGJ1J,mBAAoB,SAASkD,EAAMgJ,GACjC,GAAIjI,GAAI,GAAIL,GAAoBV,EAChC,OAAOe,GAAEjE,mBAAmBkM,IAG9BlL,QAAS,SAASkC,GAChB,GAAIe,GAAI,GAAIL,GAAoBV,EAEhC,OADAe,GAAEY,cACKZ,EAAE4B,YAAY3C,IAGvBhC,SAAU,SAASnB,EAAOgB,GACxB,GAAIkD,GAAI,GAAIL,GAAoB,KAAM7D,EACtC,OAAOkE,GAAEiC,kBAAkBnF,IAG7BqL,cAAe,SAASlJ,GACtB,GAAIe,GAAI,GAAIL,GAAoBV,EAChC,OAAOe,GAAEsG,wBAGX8B,iBAAkB,SAASnJ,GACzB,GAAIe,GAAI,GAAIL,GAAoBV,EAChC,OAAOe,GAAEwG,2BAGX9B,SAAU,SAASsD,EAAOC,GACxB,GAAIjI,GAAI,GAAIL,GAAoBqI,EAChC,OAAOhI,GAAE0E,SAASuD,QAMxB,WAGE,GAAII,GAAsB1P,EAAS2P,MAAMC,SAASvP,UAAUwP,QAExDC,EAA2B,WAC7BJ,EAAoBjP,KAAKD,MAErBA,KAAKuP,OAAOC,cAEdC,EAAkBxP,KAAKD,OAOvByP,EAAoB,WACtB,GAAIC,GAAe,WACb1P,KAAK2P,IAAIC,oBAAoB,OAAQF,GACrC1P,KAAK4J,IAAIiG,YAAY,wBAAwB,EAAO,SACpD7P,KAAK4J,IAAIiG,YAAY,4BAA4B,EAAO,UACxDC,KAAK9P,MACP+P,EAAkB,WAChBL,EAAazP,KAAKD,MAClBgQ,QAAQC,gBAAgBjQ,KAAKkQ,QAAQC,aAAc,QAAS,UAAW,aAAcJ,IACpFD,KAAK9P,KAGVA,MAAK4J,IAAIiG,aACTrQ,EAAS4Q,QAAQC,gBAAgBrQ,KAAK4J,IAAK,yBAC3CpK,EAAS4Q,QAAQC,gBAAgBrQ,KAAK4J,IAAK,8BAEvC5J,KAAKkQ,QAAQC,UACfH,QAAQM,aAAatQ,KAAKkQ,QAAQC,aAAc,QAAS,UAAW,aAAcJ,GAElF/P,KAAK2P,IAAIY,iBAAiB,OAAQb,IAGtC1P,KAAKsC,eAAiB9C,EAASgR,OAAOC,oBAAoBzQ,KAAKwF,QAASxF,KAAKoM,SAI3EqE,EAAsB,SAASC,EAAUC,GAE3C,GAAI7P,GAAO,WAET,MADA4P,GAASH,iBAAiB,YAAaK,GAChC7N,GAGL6N,EAAkB,SAASC,GAC7B,GAAIC,GAAStR,EAASkD,IAAI+D,iBAAiBoK,EAAMC,QAASzM,MAAO,WAAW,EAAOqM,EAC/EI,IACFC,EAAyBD,IAIzBC,EAA2B,SAASD,GACtC/N,EAAOR,MAAQuO,EACf/N,EAAOP,IAAMsO,EACb/N,EAAO4E,OAASmJ,GAChB/N,EAAOJ,MAAQD,EAAI+D,iBAAiB1D,EAAOR,OAAQ8B,MAAO,UAAU,EAAOqM,GAEvE3N,EAAOJ,QACTqO,IACAtO,EAAIuO,SAASH,EAAQI,GACrBR,EAASH,iBAAiB,YAAaY,GACvCT,EAASH,iBAAiB,UAAWa,GACrCT,EAAOU,KAAK,oBAAoBA,KAAK,+BAKrCL,EAAuB,WACzB,GAAIN,EAAU,CACZ,GAAIY,GAAgBZ,EAAShM,iBAAiB,IAAMwM,EACpD,IAAII,EAAcrQ,OAAS,EACzB,IAAK,GAAIO,GAAI,EAAGA,EAAI8P,EAAcrQ,OAAQO,IACxCkB,EAAI6O,YAAYD,EAAc9P,GAAI0P,KAMtCM,EAAgB,SAAS7J,GAC3B,IAAK,GAAInG,GAAI,EAAGA,EAAImG,EAAM1G,OAAQO,IAChCkB,EAAIuO,SAAStJ,EAAMnG,GAAI0P,IAIvBC,EAAkB,SAASN,GAC7B,GAEEY,GAFEC,EAAW,KACb5L,EAAOpD,EAAI+D,iBAAiBoK,EAAMC,QAASzM,MAAO,WAAW,EAAOqM,EAGlE5K,IAAQ/C,EAAOJ,OAASI,EAAOR,QACjCmP,EAAYhP,EAAI+D,iBAAiBX,GAAOzB,MAAO,UAAU,EAAOqM,GAC5DgB,GAAYA,IAAa3O,EAAOJ,QAClCqO,IACAS,EAAS1O,EAAOP,IAChBO,EAAOP,IAAMsD,EACb/C,EAAO4E,MAAQjF,EAAIC,MAAMiM,gBAAgB7L,EAAOR,MAAOuD,GACnD/C,EAAO4E,MAAM1G,OAAS,GACxB0P,EAAOvO,SAASuP,UAAUC,WAE5BJ,EAAczO,EAAO4E,OACjB5E,EAAOP,MAAQiP,GACjBd,EAAOU,KAAK,qBAAqBA,KAAK,iCAM1CD,EAAgB,SAASP,GAC3BH,EAASd,oBAAoB,YAAauB,GAC1CT,EAASd,oBAAoB,UAAWwB,GACxCT,EAAOU,KAAK,eAAeA,KAAK,wBAChCvO,WAAW,WACT+O,KACC,IAGDC,EAAmB,SAASjB,GAC9BH,EAAS7G,cAAc+F,oBAAoB,QAASkC,GAChDpP,EAAI+D,iBAAiBoK,EAAMC,QAASzM,MAAO,UAAU,EAAOqM,IAAa3N,EAAOJ,QAClFqO,IACAjO,EAAOJ,MAAQ,KACfI,EAAOR,MAAQ,KACfQ,EAAOP,IAAM,KACbmO,EAAOU,KAAK,iBAAiBA,KAAK,4BAIlCQ,EAAgB,WAClBnB,EAAS7G,cAAc0G,iBAAiB,QAASuB,IAG/CC,EAAc,SAASxP,EAAOC,GAChCO,EAAOR,MAAQA,EACfQ,EAAOP,IAAMA,EACbO,EAAOJ,MAAQD,EAAI+D,iBAAiB1D,EAAOR,OAAQ8B,MAAO,UAAU,EAAOqM,GAC3EY,cAAgB5O,EAAIC,MAAMiM,gBAAgB7L,EAAOR,MAAOQ,EAAOP,KAC/DgP,EAAcF,eACdO,IACAlB,EAAOU,KAAK,eAAeA,KAAK,yBAG9B3O,EAAMlD,EAASkD,IACfK,GACEJ,MAAO,KACPJ,MAAO,KACPC,IAAK,KACLmF,MAAO,KACP5E,OAAQgP,GAEVb,EAAiB,2BAErB,OAAOpQ,KAITtB,GAASwS,OAAOnS,UAAUoS,SAASzC,cAAe,EAClDhQ,EAASgR,OAAOC,oBAAsBA,EACtCjR,EAAS2P,MAAMC,SAASvP,UAAUwP,QAAUC"}